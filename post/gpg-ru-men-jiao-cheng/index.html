
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>GPGå…¥é—¨æ•™ç¨‹ | é£çˆ±ç¢§ç‰çš„ä¸ªäººåšå®¢</title>
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css" crossorigin="anonymous">
<link rel="shortcut icon" href="https://xiaxi626.github.io/favicon.ico?v=1708146931921">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://xiaxi626.github.io/styles/main.css">

<script src="https://xiaxi626.github.io/media/scripts/vue.js"></script>
<script src="https://xiaxi626.github.io/media/scripts/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.5.0/tocbot.min.js"></script>
  </head>
  <body>
    <div class="carousel carousel-slider center index-cover" data-indicators="true">
    <div class="bg-cover pd-header" style="background: url('') no-repeat center center fixed" data-link="https://xiaxi626.github.io/post/gpg-ru-men-jiao-cheng/">
        <div class="container">
            <div class="row">
                <div class="col s10 offset-s1 m8 offset-m2 l8 offset-l2">
                    <div class="brand">
                        <div class="title center-align">
                            GPGå…¥é—¨æ•™ç¨‹
                        </div>
                        <div class="description center-align">
                            <span id="subtitle">
                                
                            </span><span class="typed-cursor">|</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
<script>
    window.onload = function () {
        var typed = new Typed("#subtitle", {
            strings: [ 
                
                    "ä»æ¥æ²¡æœ‰çœŸæ­£çš„ç»å¢ƒ, åªæœ‰å¿ƒçµçš„è¿·é€”",
                
                    '',

            ],
            startDelay: 300,
            typeSpeed: 100,
            loop: true,
            backSpeed: 50,
            showCursor: true
        });
        let cover = document.querySelector('.bg-cover');
        cover.setAttribute('style', `background: url('${localStorage[cover.dataset.link]}') no-repeat center center fixed`);
    }
</script>


    <div class="toc-body hide">  
        <div class="toc"></div>
    </div>
    <div id="floating-toc-btn">
        <i class="fas fa-list-ul bg-color"></i>
    </div>
    <div id="app" class="main">
      <div class="site-header-container nav-transparent">
  <div class="site-header">
    <div class="left">
      <a href="https://xiaxi626.github.io">
        <img class="avatar" src="https://xiaxi626.github.io/images/avatar.png?v=1708146931921" alt=""
          width="32px" height="32px">
      </a>
      <a href="https://xiaxi626.github.io">
        <h1 class="site-title">
          é£çˆ±ç¢§ç‰çš„ä¸ªäººåšå®¢
        </h1>
      </a>
    </div>
    <div class="right">
        <div class="menu">
            <a href="/post/about" v-if="headSearchShow">
                <i class="fa-solid fa-user"></i>&nbsp;ä¸ªäºº
            </a>
            <a href="/archives" v-if="headSearchShow">
                <i class="fa-solid fa-box-archive"></i>&nbsp;å½’æ¡£
            </a>
            <a href="/tags" v-if="headSearchShow">
                <i class="fa-solid fa-tag"></i>&nbsp;æ ‡ç­¾
            </a>
            <a href="/life" v-if="headSearchShow">
                <i class="fa-fw fas fa-heart"></i>&nbsp;ç”Ÿæ´»
            </a>
            
        </div>
      <div class="gridea-search-div" v-if="headSearchShow">
        <form id="gridea-search-form" action="https://xiaxi626.github.io/search/">
          <input class="gridea-search-input" autocomplete="off" spellcheck="false" name="q" />
        </form>
      </div>
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }"
          @click="menuClick()" v-if="menuSearchShow"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      <div class="gridea-search-div" v-if="menuSearchShow">
        <form id="gridea-search-form" action="https://xiaxi626.github.io/search/">
          <input class="gridea-search-input" autocomplete="off" spellcheck="false" name="q" />
        </form>
      </div>
      
        
            <a href="/" class="menu purple-link">
              é¦–é¡µ
            </a>
            
              
        
            <a href="/archives" class="menu purple-link">
              å½’æ¡£
            </a>
            
              
        
            <a href="/tags" class="menu purple-link">
              æ ‡ç­¾
            </a>
            
              
        
            <a href="/post/about" class="menu purple-link">
              å…³äº
            </a>
            
              
        
            <a href="/friends" class="menu purple-link">
              å‹æƒ…é“¾æ¥
            </a>
            
              
              
    </div>
  </div>
</transition>

<script>
    window.onscroll = function () {
        var t = document.documentElement.scrollTop || document.body.scrollTop;
        var header = document.querySelector('.site-header-container');
        if (t > 0) {
            header.classList.remove('nav-transparent');
        } else {
            header.classList.add('nav-transparent');
        }
    }
</script>

      <div class="content-body">
        <div class="content-container content-card">
            <div class="post-detail">
              <div class="post-info post-detail-info">
                <span><i class="icon-calendar-outline"></i> 2023-08-24</span>
                
                  <span>
                    
                        <i class="icon-pricetags-outline"></i>
                      <a href="https://xiaxi626.github.io/tag/JcIpV52xSP/">
                        Technology
                      </a>
                    
                  </span>
                
              </div>
              
              <hr class="clear">
              <div class="post-content">
                <h2 id="å‰è¨€">å‰è¨€</h2>
<p>Githubè®¾ç½®æœ‰ä¸€é¡¹å«â€œSSH ä¸ GPG å…¬é’¥â€ï¼Œå¹³å¸¸æˆ‘ä»¬çœ‹ä¸€äº›æ•™ç¨‹åªéœ€è¦ä½¿ç”¨SSH å…¬é’¥ï¼Œå¥½åƒç”¨ä¸åˆ°GPG å…¬é’¥ï¼Œç›´åˆ°æˆ‘çœ‹åˆ°è¿™ç¯‡æœ‰è¶£çš„å¸–å­â€”â€”<a href="https://spencerwoo.com/blog/wait-this-is-not-my-commit">ğŸ‘¨â€ğŸ’» éœ‡æƒŠï¼ç«Ÿç„¶æœ‰äººåœ¨ GitHub ä¸Šå†’å……æˆ‘çš„èº«ä»½ï¼</a></p>
<blockquote>
<p>Git çš„ commit æ˜¯å¯ä»¥ä»»æ„ä¿®æ”¹çš„ï¼Œä½ å¯ä»¥å°†æŸä¸ªå commit å«ç¥¸ç»™åˆ«äººï¼Œç”šè‡³å°†æŸä¸ªåä»“åº“çš„ commit æ‰¹é‡å«ç¥¸ç»™æ¯«ä¸çŸ¥æƒ…çš„äººã€‚<br>
ä½¿ç”¨ä¸€ä¸ªåªæœ‰æˆ‘ä»¬è‡ªå·±æ‰‹ä¸­æ‹¥æœ‰çš„ GPG ç§é’¥å¯¹æˆ‘ä»¬çš„ commit è¿›è¡Œç­¾åï¼Œå¯ä»¥è®© GitHub ç¡®è®¤æˆ‘ä»¬æœ¬æ¬¡ commit æ˜¯çœŸå®ä¸”æ˜¯æœ¬äººæ“ä½œçš„ã€‚è¿™æ ·ï¼Œåˆ«æœ‰ç”¨å¿ƒçš„ä»–äººå°±æ— æ³•ä»¥æˆ‘ä»¬çš„èº«ä»½åˆ›å»ºã€Œè¢«ç­¾åã€çš„ commitã€‚åœ¨ GitHub ä¸Šä½¿ç”¨çš„ GPG å¯†é’¥å’Œæˆ‘ä»¬çš„ SSH å¯†é’¥å¹¶ä¸ä¸€æ ·ï¼Œåè€… SSH key å”¯ä¸€å­˜åœ¨çš„åŸå› æ˜¯ä¸ºäº†å‘ GitHub è¯æ˜èº«ä»½ï¼Œç”¨äºå‘æˆ‘ä»¬æ‹¥æœ‰æƒé™çš„ä»“åº“ä¸­è¿›è¡Œ commitï¼Œè€Œå‰è€… GPG key åˆ™æ˜¯ä¸ºäº†ã€Œè¯æ˜æˆ‘æ‹¥æœ‰æœ¬æ¬¡ commit çš„è‘—ä½œæƒã€ï¼Œä¹Ÿåªæœ‰ç”¨ GPG ç§é’¥ç­¾åçš„ commit åœ¨ GitHub ä¸Šæ‰ä¼šæ˜¾ç¤ºå¦‚ä¸‹å›¾çš„ Verified ç»¿è‰²é’¦å®šå°æ ‡æ ‡ã€‚</p>
</blockquote>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹GPGæ˜¯ä»€ä¹ˆï¼Œä»¥åŠæ€ä¹ˆç”¨ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯gpg">ä»€ä¹ˆæ˜¯GPG</h2>
<p>1991å¹´ï¼Œè²åˆ©æ™®Â·é½å¢¨å°”æ›¼(Philip R. Zimmermann)å‘æ˜äº†PGPåŠ å¯†ç®—æ³•ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„ PGP ç¨‹å¼ä¸å…¶ä¸­ä½¿ç”¨çš„åŠ å¯†ç®—æ³• BassOmatic éƒ½æ˜¯ç”±é½é»˜å°”æ›¼å‘å±•å‡ºæ¥ã€‚ä½† PGP æ˜¯å•†ä¸šè½¯ä»¶ï¼Œä¸èƒ½è‡ªç”±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šå†³å®šå¼€å‘ä¸€æ¬¾è‡ªç”±è½¯ä»¶ä»¥æ›¿ä»£ PGPã€‚è¿™å°±æ˜¯GPGçš„ç”±æ¥ã€‚</p>
<h3 id="pgp-ä¸-gpg-çš„å…³ç³»">PGP ä¸ GPG çš„å…³ç³»</h3>
<p><strong>PGP</strong></p>
<ul>
<li>Pretty Good Privacyï¼Œæ˜¯ä¸€ä¸ªè¢«è®¾è®¡ç”¨æ¥åŠ å¯†ä¿¡æ¯ï¼Œä¿æŠ¤éšç§çš„è½¯ä»¶ã€‚</li>
<li>OpenPGP æ˜¯ä¸æœ€åˆ PGP å·¥å…·å…¼å®¹çš„ IETF æ ‡å‡†</li>
<li>ç°åœ¨æåˆ°â€œPGPâ€ï¼Œ åŸºæœ¬ä¸Šæ˜¯è¯´ OpenPGP æ ‡å‡†ã€‚</li>
</ul>
<p><strong>GPG</strong></p>
<ul>
<li>å³GnuPGã€‚</li>
<li>GnuPG ï¼ˆâ€œGnu Privacy Guardâ€ï¼‰æ˜¯å®ç°äº† OpenPGP æ ‡å‡†çš„è‡ªç”±è½¯ä»¶ã€‚</li>
<li>GnuPG çš„å‘½ä»¤è¡Œå·¥å…·ç§°ä¸º â€œgpgâ€</li>
</ul>
<h3 id="gpg-key-ä½¿ç”¨åœºæ™¯">GPG KEY ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li>ä½¿ç”¨ GPG å¯†é’¥æ¥ç­¾åä½ çš„ git commits</li>
<li>ä½¿ç”¨å…¬é’¥éªŒè¯ç¬¬ä¸‰æ–¹è½¯ä»¶çš„ç­¾å</li>
<li>ä½¿ç”¨ gpg å…¬é’¥æ¥åŠ å¯†ä½ çš„é‚®ä»¶</li>
<li>ä½¿ç”¨å…¬é’¥è®¤è¯æ¥å®ç°æˆæƒç™»é™† (Public Key Authentication)</li>
</ul>
<h2 id="linuxä¸‹ä½¿ç”¨gpgç­¾ååŠ å¯†">Linuxä¸‹ä½¿ç”¨GPGç­¾å/åŠ å¯†</h2>
<h3 id="å®‰è£…-gpg">å®‰è£… GPG</h3>
<p>Linuxä¸‹GPGæœ‰ä¸¤ç§å®‰è£…æ–¹å¼ã€‚å¯ä»¥ä¸‹è½½æºç ï¼Œè‡ªå·±ç¼–è¯‘å®‰è£…ã€‚</p>
<pre><code class="language-bash">./configure
make
make install
</code></pre>
<p>ä¹Ÿå¯ä»¥å®‰è£…ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ…</p>
<pre><code class="language-bash"># Debian / Ubuntu ç¯å¢ƒ
sudo apt-get install gnupg

# Fedora ç¯å¢ƒ
yum install gnupg

# Arch ç¯å¢ƒ
sudo pacman -S gnupg
</code></pre>
<p>å®Œæˆåé”®å…¥ä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="language-bash">gpg --help
</code></pre>
<p>å¦‚æœå±å¹•æ˜¾ç¤ºGPGçš„å¸®åŠ©ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p>
<h3 id="ç”Ÿæˆå¯†é’¥">ç”Ÿæˆå¯†é’¥</h3>
<pre><code class="language-bash">gpg â€“-gen-key
</code></pre>
<p>å›è½¦ä»¥åä¼šè·³å‡º</p>
<pre><code class="language-bash">gpg (GnuPG) 2.2.41-unknown; Copyright (C) 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

gpg: directory '/c/Users/Administrator/.gnupg' created
gpg: keybox '/c/Users/Administrator/.gnupg/pubring.kbx' created
Note: Use &quot;gpg --full-generate-key&quot; for a full featured key generation dialog.

GnuPG needs to construct a user ID to identify your key.

Real name:

</code></pre>
<p>ä½¿ç”¨â€œgpg --full-generate-keyâ€ç”ŸæˆGPGå¯†é’¥ï¼Œæœ‰è¯¦ç»†çš„é…ç½®å‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg (GnuPG) 2.2.41-unknown; Copyright (C) 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection?

</code></pre>
<p>é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºåŠ å¯†å’Œç­¾åéƒ½ä½¿ç”¨RSAç®—æ³•ã€‚<br>
ç„¶åï¼Œç³»ç»Ÿå°±ä¼šé—®ä½ å¯†é’¥çš„é•¿åº¦ã€‚</p>
<pre><code class="language-bash">RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072)

</code></pre>
<p>æ¥ç€ï¼Œè®¾å®šå¯†é’¥çš„æœ‰æ•ˆæœŸã€‚</p>
<pre><code class="language-bash">Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)

</code></pre>
<p>ä¸ªäººä½¿ç”¨å»ºè®®é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œå³æ°¸ä¸è¿‡æœŸï¼Œå›è½¦å³å¯ã€‚æ¥ä¸‹æ¥ï¼Œç³»ç»Ÿè®©ä½ ç¡®è®¤ã€‚</p>
<pre><code class="language-bash">Key does not expire at all
Is this correct? (y/N)

</code></pre>
<p>è¾“å…¥yï¼Œç³»ç»Ÿè¦æ±‚æä¾›ä¸ªäººä¿¡æ¯ã€‚</p>
<pre><code class="language-bash">GnuPG needs to construct a user ID to identify your key.

Real name:
Email address:
Comment:

</code></pre>
<p>&quot;Comment&quot;è¿™ä¸€æ å¯ä»¥ç©ºç€ã€‚<br>
ç„¶åä½ çš„ç”¨æˆ·IDå°±ç”Ÿæˆäº†ã€‚</p>
<pre><code class="language-bash">You selected this USER-ID:
    &quot;xiaxi626 &lt;aijiang1220966821@hotmail.com&gt;&quot;

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit?

</code></pre>
<p>ç³»ç»Ÿä¼šè®©ä½ æœ€åç¡®è®¤ä¸€æ¬¡ã€‚<br>
è¾“å…¥Oè¡¨ç¤º&quot;ç¡®å®š&quot;ã€‚<br>
æ¥ç€ï¼Œç³»ç»Ÿä¼šè®©ä½ è®¾å®šä¸€ä¸ªç§é’¥çš„å¯†ç ã€‚</p>
<pre><code class="language-bash">æ‚¨éœ€è¦ä¸€ä¸ªå¯†ç æ¥ä¿æŠ¤æ‚¨çš„ç§é’¥ï¼š
</code></pre>
<p>äºŒæ¬¡è¾“å…¥ç¡®è®¤å¯†ç åï¼Œç³»ç»Ÿå°±å¼€å§‹ç”Ÿæˆå¯†é’¥äº†ã€‚</p>
<pre><code class="language-bash">We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
</code></pre>
<p>å‡ åˆ†é’Ÿä»¥åï¼Œç³»ç»Ÿæç¤ºå¯†é’¥å·²ç»ç”Ÿæˆäº†ã€‚</p>
<pre><code class="language-bash">gpg: /c/Users/Administrator/.gnupg/trustdb.gpg: trustdb created
gpg: directory '/c/Users/Administrator/.gnupg/openpgp-revocs.d' created
gpg: revocation certificate stored as '/c/Users/Administrator/.gnupg/openpgp-revocs.d/2DF491A4DB677422C13A5398102ED6A053101F78.rev'
public and secret key created and signed.
</code></pre>
<p>è¯·æ³¨æ„ä¸Šé¢çš„å­—ç¬¦ä¸²&quot;2DF491A4DB677422C13A5398102ED6A053101F78&quot;ï¼Œè¿™æ˜¯&quot;ç”¨æˆ·ID&quot;çš„Hashå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨æ¥æ›¿ä»£&quot;ç”¨æˆ·ID&quot;ã€‚<br>
è¿™æ—¶ï¼Œæœ€å¥½å†ç”Ÿæˆä¸€å¼ &quot;æ’¤é”€è¯ä¹¦&quot;ï¼Œä»¥å¤‡ä»¥åå¯†é’¥ä½œåºŸæ—¶ï¼Œå¯ä»¥è¯·æ±‚å¤–éƒ¨çš„å…¬é’¥æœåŠ¡å™¨æ’¤é”€ä½ çš„å…¬é’¥ã€‚</p>
<pre><code class="language-bash">gpg --gen-revoke [ç”¨æˆ·ID]
</code></pre>
<p>ä¸Šé¢çš„&quot;ç”¨æˆ·ID&quot;éƒ¨åˆ†ï¼Œå¯ä»¥å¡«å…¥ä½ çš„é‚®ä»¶åœ°å€æˆ–è€…Hashå­—ç¬¦ä¸²ï¼ˆä»¥ä¸‹åŒï¼‰ã€‚<br>
ç³»ç»Ÿæç¤ºã€‚</p>
<pre><code class="language-bash">Create a revocation certificate for this key? (y/N)
</code></pre>
<h3 id="å¯†é’¥ç®¡ç†">å¯†é’¥ç®¡ç†</h3>
<h4 id="æŸ¥çœ‹å…¬é’¥">æŸ¥çœ‹å…¬é’¥</h4>
<p>list-keyså‚æ•°åˆ—å‡ºç³»ç»Ÿä¸­å·²æœ‰çš„å¯†é’¥ã€‚</p>
<pre><code class="language-bash">gpg --list-key
</code></pre>
<p>ç½‘ä¸Šæ•™ç¨‹çš„æ˜¾ç¤ºç»“æœï¼š</p>
<pre><code class="language-bash">ã€€ã€€/home/ruanyf/.gnupg/pubring.gpg
ã€€ã€€-------------------------------
ã€€ã€€pub 4096R/EDDD6D76 2013-07-11
ã€€ã€€uid Ruan YiFeng &lt;yifeng.ruan@gmail.com&gt;
ã€€ã€€sub 4096R/3FA69BE4 2013-07-11
</code></pre>
<p>ç¬¬ä¸€è¡Œæ˜¾ç¤ºå…¬é’¥æ–‡ä»¶åï¼ˆpubring.gpgï¼‰ï¼Œç¬¬äºŒè¡Œæ˜¾ç¤ºå…¬é’¥ç‰¹å¾ï¼ˆ4096ä½ï¼ŒHashå­—ç¬¦ä¸²å’Œç”Ÿæˆæ—¶é—´ï¼‰ï¼Œç¬¬ä¸‰è¡Œæ˜¾ç¤º&quot;ç”¨æˆ·ID&quot;ï¼Œç¬¬å››è¡Œæ˜¾ç¤ºç§é’¥ç‰¹å¾ã€‚<br>
æœ¬æœºè¾“å…¥<code>gpg --list-key</code> æ˜¾ç¤ºï¼š</p>
<pre><code class="language-bash">gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/c/Users/Administrator/.gnupg/pubring.kbx
-----------------------------------------
pub   rsa3072 2023-08-25 [SC]
      2DF491A4DB677422C13A5398102ED6A053101F78
uid           [ultimate] xiaxi626 &lt;aijiang1220966821@hotmail.com&gt;
sub   rsa3072 2023-08-25 [E]

</code></pre>
<p><code>pubring.kbx</code>æ˜¯å¯†é’¥å—èµ„æºã€‚<br>
å¦‚æœä½ è¦ä»å¯†é’¥åˆ—è¡¨ä¸­åˆ é™¤æŸä¸ªå¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨delete-keyå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg --delete-key [ç”¨æˆ·ID]
</code></pre>
<p>åˆ é™¤å…¬é’¥å‰ä¼šæç¤º</p>
<pre><code class="language-bash">gpg: there is a secret key for public key &quot;[å…¬é’¥]&quot;!
gpg: use option &quot;--delete-secret-keys&quot; to delete it first.

</code></pre>
<h4 id="æŸ¥çœ‹ç§é’¥">æŸ¥çœ‹ç§é’¥</h4>
<p>list-secret-keyså‚æ•°åˆ—å‡ºç³»ç»Ÿä¸­å·²æœ‰çš„ç§é’¥ã€‚</p>
<pre><code class="language-bash">gpg --list-secret-keys
</code></pre>
<p>æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-bash">/c/Users/Administrator/.gnupg/pubring.kbx
-----------------------------------------
sec#  rsa3072 2023-08-25 [SC]
      2DF491A4DB677422C13A5398102ED6A053101F78
uid           [ultimate] xiaxi626 &lt;aijiang1220966821@hotmail.com&gt;
ssb   rsa3072 2023-08-25 [E]

</code></pre>
<h4 id="è¾“å‡ºå¯†é’¥">è¾“å‡ºå¯†é’¥</h4>
<p>å…¬é’¥æ–‡ä»¶ï¼ˆ.gnupg/pubring.gpgï¼‰ä»¥äºŒè¿›åˆ¶å½¢å¼å‚¨å­˜ï¼Œarmorå‚æ•°å¯ä»¥å°†å…¶è½¬æ¢ä¸ºASCIIç æ˜¾ç¤ºã€‚</p>
<pre><code class="language-bash">gpg --armor --output public-key.txt --export [ç”¨æˆ·ID]

or

gpg -a --export [ç”¨æˆ·ID] &gt; public-key.asc
</code></pre>
<p>&quot;ç”¨æˆ·ID&quot;æŒ‡å®šå“ªä¸ªç”¨æˆ·çš„å…¬é’¥ï¼Œoutputå‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶åï¼ˆpublic-key.txtï¼‰ã€‚</p>
<p>ç±»ä¼¼åœ°ï¼Œexport-secret-keyså‚æ•°å¯ä»¥è½¬æ¢ç§é’¥ã€‚</p>
<pre><code class="language-bash">gpg --armor --output private-key.txt --export-secret-keys

or

gpg -a --export-secret-keys [ç”¨æˆ·ID] &gt; private-key.asc
</code></pre>
<h4 id="ä¸Šä¼ å…¬é’¥">ä¸Šä¼ å…¬é’¥</h4>
<p>å…¬é’¥æœåŠ¡å™¨æ˜¯ç½‘ç»œä¸Šä¸“é—¨å‚¨å­˜ç”¨æˆ·å…¬é’¥çš„æœåŠ¡å™¨ã€‚send-keyså‚æ•°å¯ä»¥å°†å…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</p>
<pre><code class="language-bash">gpg --send-keys [ç”¨æˆ·ID] --keyserver hkp://subkeys.pgp.net
</code></pre>
<p>ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œä½ çš„å…¬é’¥å°±è¢«ä¼ åˆ°äº†æœåŠ¡å™¨subkeys.pgp.netï¼Œç„¶åé€šè¿‡äº¤æ¢æœºåˆ¶ï¼Œæ‰€æœ‰çš„å…¬é’¥æœåŠ¡å™¨æœ€ç»ˆéƒ½ä¼šåŒ…å«ä½ çš„å…¬é’¥ã€‚<br>
ç”±äºå…¬é’¥æœåŠ¡å™¨æ²¡æœ‰æ£€æŸ¥æœºåˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç”¨ä½ çš„åä¹‰ä¸Šä¼ å…¬é’¥ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•ä¿è¯æœåŠ¡å™¨ä¸Šçš„å…¬é’¥çš„å¯é æ€§ã€‚é€šå¸¸ï¼Œä½ å¯ä»¥åœ¨ç½‘ç«™ä¸Šå…¬å¸ƒä¸€ä¸ªå…¬é’¥æŒ‡çº¹ï¼Œè®©å…¶ä»–äººæ ¸å¯¹ä¸‹è½½åˆ°çš„å…¬é’¥æ˜¯å¦ä¸ºçœŸã€‚fingerprintå‚æ•°ç”Ÿæˆå…¬é’¥æŒ‡çº¹ã€‚</p>
<pre><code class="language-bash">gpg --fingerprint [ç”¨æˆ·ID]
</code></pre>
<h4 id="è¾“å…¥å¯†é’¥">è¾“å…¥å¯†é’¥</h4>
<p>é™¤äº†ç”Ÿæˆè‡ªå·±çš„å¯†é’¥ï¼Œè¿˜éœ€è¦å°†ä»–äººçš„å…¬é’¥æˆ–è€…ä½ çš„å…¶ä»–å¯†é’¥è¾“å…¥ç³»ç»Ÿã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨importå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg --import [å¯†é’¥æ–‡ä»¶]
</code></pre>
<p>ä¸ºäº†è·å¾—ä»–äººçš„å…¬é’¥ï¼Œå¯ä»¥è®©å¯¹æ–¹ç›´æ¥å‘ç»™ä½ ï¼Œæˆ–è€…åˆ°å…¬é’¥æœåŠ¡å™¨ä¸Šå¯»æ‰¾ã€‚</p>
<pre><code class="language-bash">gpg --keyserver hkp://subkeys.pgp.net --search-keys [ç”¨æˆ·ID]
</code></pre>
<p>æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬æ— æ³•ä¿è¯æœåŠ¡å™¨ä¸Šçš„å…¬é’¥æ˜¯å¦å¯é ï¼Œä¸‹è½½åè¿˜éœ€è¦ç”¨å…¶ä»–æœºåˆ¶éªŒè¯ï¼</p>
<h3 id="åŠ å¯†å’Œè§£å¯†">åŠ å¯†å’Œè§£å¯†</h3>
<h4 id="åŠ å¯†">åŠ å¯†</h4>
<p>å‡å®šæœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶demo.txtï¼Œæ€æ ·å¯¹å®ƒåŠ å¯†å‘¢ï¼Ÿ<br>
encryptå‚æ•°ç”¨äºåŠ å¯†ã€‚</p>
<pre><code class="language-bash">gpg --recipient [ç”¨æˆ·ID] --output demo.en.txt --encrypt demo.txt
</code></pre>
<p>recipientå‚æ•°æŒ‡å®šæ¥æ”¶è€…çš„å…¬é’¥ï¼Œoutputå‚æ•°æŒ‡å®šåŠ å¯†åçš„æ–‡ä»¶åï¼Œencryptå‚æ•°æŒ‡å®šæºæ–‡ä»¶ã€‚è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œdemo.en.txtå°±æ˜¯å·²åŠ å¯†çš„æ–‡ä»¶ï¼Œå¯ä»¥æŠŠå®ƒå‘ç»™å¯¹æ–¹ã€‚</p>
<pre><code class="language-bash">gpg -ea -r [ç”¨æˆ·ID] filename
</code></pre>
<p>å³ä¼šç”Ÿæˆfilename.ascçš„åŠ å¯†æ–‡ä»¶ã€‚</p>
<h4 id="è§£å¯†">è§£å¯†</h4>
<p>å¯¹æ–¹æ”¶åˆ°åŠ å¯†æ–‡ä»¶ä»¥åï¼Œå°±ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ã€‚</p>
<pre><code class="language-bash">gpg --decrypt demo.en.txt --output demo.de.txt
</code></pre>
<p>decryptå‚æ•°æŒ‡å®šéœ€è¦è§£å¯†çš„æ–‡ä»¶ï¼Œoutputå‚æ•°æŒ‡å®šè§£å¯†åç”Ÿæˆçš„æ–‡ä»¶ã€‚è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œdemo.de.txtå°±æ˜¯è§£å¯†åçš„æ–‡ä»¶ã€‚</p>
<p>GPGå…è®¸çœç•¥decryptå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg demo.en.txt
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œè§£å¯†åçš„æ–‡ä»¶å†…å®¹ç›´æ¥æ˜¾ç¤ºåœ¨æ ‡å‡†è¾“å‡ºã€‚</p>
<pre><code class="language-bash">gpg -o filename -d filename.asc
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œè¾“å…¥ç§é’¥å¯†ç ã€‚<br>
å³å¯æŠŠfilename.ascçš„åŠ å¯†æ–‡ä»¶è§£å¯†æˆfilenameæ–‡ä»¶ã€‚</p>
<h3 id="ç­¾å">ç­¾å</h3>
<h4 id="å¯¹æ–‡ä»¶ç­¾å">å¯¹æ–‡ä»¶ç­¾å</h4>
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åŠ å¯†æ–‡ä»¶ï¼Œåªéœ€è¦å¯¹æ–‡ä»¶ç­¾åï¼Œè¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶ç¡®å®æ˜¯æˆ‘æœ¬äººå‘å‡ºçš„ã€‚signå‚æ•°ç”¨æ¥ç­¾åã€‚</p>
<pre><code class="language-bash">gpg --sign demo.txt
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆdemo.txt.gpgæ–‡ä»¶ï¼Œè¿™å°±æ˜¯ç­¾ååçš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é»˜è®¤é‡‡ç”¨äºŒè¿›åˆ¶å‚¨å­˜ï¼Œå¦‚æœæƒ³ç”ŸæˆASCIIç çš„ç­¾åæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨clearsignå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg --clearsign demo.txt
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤å ï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆdemo.txt.ascæ–‡ä»¶ï¼Œåç¼€åascè¡¨ç¤ºè¯¥æ–‡ä»¶æ˜¯ASCIIç å½¢å¼çš„ã€‚</p>
<p>å¦‚æœæƒ³ç”Ÿæˆå•ç‹¬çš„ç­¾åæ–‡ä»¶ï¼Œä¸æ–‡ä»¶å†…å®¹åˆ†å¼€å­˜æ”¾ï¼Œå¯ä»¥ä½¿ç”¨detach-signå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg --detach-sign demo.txt
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„ç­¾åæ–‡ä»¶demo.txt.sigã€‚è¯¥æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶å½¢å¼çš„ï¼Œå¦‚æœæƒ³é‡‡ç”¨ASCIIç å½¢å¼ï¼Œè¦åŠ ä¸Šarmorå‚æ•°ã€‚</p>
<pre><code class="language-bash">gpg --armor --detach-sign demo.txt
</code></pre>
<h4 id="ç­¾ååŠ å¯†">ç­¾å+åŠ å¯†</h4>
<p>ä¸Šä¸€èŠ‚çš„å‚æ•°ï¼Œéƒ½æ˜¯åªç­¾åä¸åŠ å¯†ã€‚å¦‚æœæƒ³åŒæ—¶ç­¾åå’ŒåŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p>
<pre><code class="language-bash">gpg --local-user [å‘ä¿¡è€…ID] --recipient [æ¥æ”¶è€…ID] --armor --sign --encrypt demo.txt
</code></pre>
<p>local-userå‚æ•°æŒ‡å®šç”¨å‘ä¿¡è€…çš„ç§é’¥ç­¾åï¼Œrecipientå‚æ•°æŒ‡å®šç”¨æ¥æ”¶è€…çš„å…¬é’¥åŠ å¯†ï¼Œarmorå‚æ•°è¡¨ç¤ºé‡‡ç”¨ASCIIç å½¢å¼æ˜¾ç¤ºï¼Œsignå‚æ•°è¡¨ç¤ºéœ€è¦ç­¾åï¼Œencryptå‚æ•°è¡¨ç¤ºæŒ‡å®šæºæ–‡ä»¶ã€‚</p>
<h4 id="éªŒè¯ç­¾å">éªŒè¯ç­¾å</h4>
<p>æˆ‘ä»¬æ”¶åˆ°åˆ«äººç­¾ååçš„æ–‡ä»¶ï¼Œéœ€è¦ç”¨å¯¹æ–¹çš„å…¬é’¥éªŒè¯ç­¾åæ˜¯å¦ä¸ºçœŸã€‚verifyå‚æ•°ç”¨æ¥éªŒè¯ã€‚</p>
<pre><code class="language-bash">gpg --verify demo.txt.asc demo.txt
</code></pre>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œopenvpnç½‘ç«™å°±æä¾›æ¯ä¸€ä¸ªä¸‹è½½åŒ…çš„gpgç­¾åæ–‡ä»¶ã€‚ä½ å¯ä»¥æ ¹æ®å®ƒçš„è¯´æ˜ï¼ŒéªŒè¯è¿™äº›ä¸‹è½½åŒ…æ˜¯å¦ä¸ºçœŸã€‚</p>
<h2 id="åœ¨-gitee-ä¸Šä½¿ç”¨-gpg-key-æ¥ç­¾å-commit">åœ¨ Gitee ä¸Šä½¿ç”¨ GPG key æ¥ç­¾å commit</h2>
<ol>
<li>Kleopatraåˆ›å»ºOpenPGPå¯†é’¥å¯¹ï¼Œè¾“å…¥ç”¨æˆ·åå’Œé‚®ç®±ï¼Œæ³¨æ„é‚®ç®±å¿…é¡»ä¸ Gitee æäº¤é‚®ç®±ä¸€è‡´ï¼›</li>
<li>å¯¼å‡ºå…¬é’¥å’Œç§é’¥æ–‡ä»¶ï¼›</li>
<li>æ‰“å¼€å…¬é’¥æ–‡ä»¶ï¼Œå¤åˆ¶å†…å®¹åˆ°<a href="https://gitee.com/profile/gpg_keys">Gitee gpg_keys</a>ï¼Œå¤åˆ¶é¡µé¢GPGå¯†é’¥çš„æŒ‡çº¹å­—ç¬¦ä¸²ï¼›</li>
<li>è¾“å…¥ã€æŸ¥çœ‹å…¬é’¥ã€ç§é’¥å‘½ä»¤ | è¾“å…¥å¯†é’¥å‘½ä»¤ã€‘ï¼Œè¾“å…¥å¯†é’¥åˆ°.gnupgæ–‡ä»¶å¤¹ï¼›</li>
<li>è¾“å…¥æŸ¥çœ‹å…¬é’¥æˆ–æŸ¥çœ‹ç§é’¥å‘½ä»¤ï¼Œå¾—åˆ°&quot;ç”¨æˆ·ID&quot;çš„Hashå­—ç¬¦ä¸²ï¼Œå’Œ<a href="https://gitee.com/profile/gpg_keys">Gitee gpg_keys</a>é¡µé¢GPGå…¬é’¥æŒ‡çº¹å­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ï¼›</li>
<li>é…ç½® Git</li>
</ol>
<pre><code class="language-bash">git config --global user.signingkey [Giteeç½‘é¡µGPGå…¬é’¥æŒ‡çº¹/æœ¬åœ°&quot;ç”¨æˆ·ID&quot;çš„Hashå­—ç¬¦ä¸²]
</code></pre>
<ol start="7">
<li>
<p>è¾“å…¥<code>git config --global --list</code>æ£€æŸ¥git configæ˜¯å¦é…ç½®æˆåŠŸï¼Œè¾“å…¥<code>git config --global --edit</code>å¯ä¿®æ”¹é…ç½®ï¼›</p>
</li>
<li>
<p>æ·»åŠ åˆ° Gitee è´¦æˆ·,æŸ¥çœ‹<a href="https://gitee.com/profile/gpg_keys">GPG å…¬é’¥éªŒè¯çŠ¶æ€</a>ï¼ŒGPG é‚®ç®±ä¸ºå½“å‰ç”¨æˆ·å·²æ¿€æ´»é‚®ç®±éªŒè¯æ‰èƒ½é€šè¿‡;</p>
<ul>
<li>åˆ é™¤ ä»…ç§»é™¤ GPG å…¬é’¥ï¼ŒéªŒè¯é€šè¿‡çš„ Commit ç­¾åçŠ¶æ€ä¿æŒä¸å˜</li>
<li>æ³¨é”€ ç§»é™¤ GPG å…¬é’¥å¹¶ä¸”å°†å·²éªŒè¯çš„ Commit ç­¾åçŠ¶æ€ä¿®æ”¹ä¸ºæœªéªŒè¯</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨ GPG ç­¾åè¿›è¡Œæäº¤</p>
</li>
</ol>
<pre><code class="language-bash">git commit -S -m &quot;YOUR COMMIT MESSAGE&quot;
git log --show-signature # æŸ¥çœ‹ç­¾åçŠ¶æ€
</code></pre>
<ol start="10">
<li>æäº¤çš„æ˜¾ç¤ºç»“æœ</li>
</ol>
<pre><code class="language-bash">git push origin master
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 564 bytes | 564.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Powered by GITEE.COM [GNK-6.4]
To gitee.com:xiaxi626/gpg-test.git
   8013057..53ca0f6  master -&gt; master

</code></pre>
<ol start="11">
<li>
<p>ç­¾åçŠ¶æ€ï¼ŒCommitå‡ºç°<code>Verified</code> | <code>This commit was signed with the committer's verified signature</code>ï¼ŒæˆåŠŸã€‚</p>
<ul>
<li>Commit éªŒè¯é€šè¿‡çš„æ¡ä»¶ä¸ºï¼šcommit æäº¤é‚®ç®±ä¸ commit GPG ç­¾åæ‰€ä½¿ç”¨çš„å…¬é’¥é‚®ç®±ä¸€è‡´ä¸” GPG å…¬é’¥éªŒè¯é€šè¿‡ã€‚</li>
</ul>
</li>
<li>
<p>æŸ¥çœ‹ GPG å…¬é’¥</p>
<ul>
<li>è¾“å…¥ <code>https://gitee.com/\&lt;username&gt;.gpg</code></li>
<li>é€‰æ‹©ç”¨æˆ·ä¸ªäººèµ„æ–™å³ä¸Šè§’çš„è®¾ç½®é¡µé¢è¿›å…¥å®‰å…¨è®¾ç½® - GPG å…¬é’¥</li>
<li>Gitee å¹³å° GPG å…¬é’¥ï¼šhttps://gitee.com/gitee.gpg</li>
</ul>
</li>
</ol>
<h2 id="åœ¨-github-ä¸Šä½¿ç”¨-gpg-key-æ¥ç­¾å-commit">åœ¨ Github ä¸Šä½¿ç”¨ GPG key æ¥ç­¾å commit</h2>
<h3 id="github-é…ç½®-gpg">Github é…ç½® GPG</h3>
<h4 id="é…ç½®-gpg-å…¬é’¥åˆ°ä»“åº“">é…ç½® GPG å…¬é’¥åˆ°ä»“åº“</h4>
<p>Github <code>Setting</code> -&gt; <code>SSH and GPG keys</code> -&gt; <code>New GPG Key</code> å¯¼å…¥å³å¯</p>
<h4 id="æœ¬åœ°ä»£ç ä»“åº“å¯ç”¨gpg-sign">æœ¬åœ°ä»£ç ä»“åº“å¯ç”¨GPG Sign</h4>
<p>é€šè¿‡<code>gpg --list-keys</code>æŸ¥çœ‹<code>pub GPG key ID</code>ï¼Œåè®¾ç½®<code>git</code>ç­¾åæ—¶ç”¨çš„<code>key</code></p>
<h4 id="å…¨å±€è®¾ç½®">å…¨å±€è®¾ç½®</h4>
<pre><code class="language-bash"># é…ç½®å·²ç»ç”Ÿæˆçš„GPG Key ID
git config --global user.signingkey &lt;pub GPG key ID&gt;
# é…ç½®å¯ç”¨GPGç­¾å
git config --global commit.gpgsign true
</code></pre>
<p>æŒ‡å®šä»“åº“è®¾ç½®ï¼Œéœ€è¦è¿›å…¥ä»£ç ç›®å½•ï¼š</p>
<pre><code class="language-bash"># é…ç½®å·²ç»ç”Ÿæˆçš„GPG Key ID
git config --local user.signingkey &lt;pub GPG key ID&gt;
# é…ç½®å¯ç”¨GPGç­¾å
git config --local commit.gpgsign true
</code></pre>
<h4 id="é‡å¯-gpg-agent">é‡å¯ gpg-agent</h4>
<p>ç¬¬ä¸€æ¬¡é…ç½®ï¼Œå¿…é¡»é‡å¯ï¼Œå¦åˆ™ç­¾åä¼šå¤±è´¥ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="language-bash">gpgconf â€“kill gpg-agent
</code></pre>
<h4 id="ä¸Šè¿°æ­¥éª¤ç¤ºä¾‹">ä¸Šè¿°æ­¥éª¤ç¤ºä¾‹</h4>
<pre><code class="language-bash">Administrator@AUTOBVT-Q90417J MINGW64 ~/Desktop
$ git config --global user.signingkey 69A20512441F53BA4F13F93F74EA6A7E693AEF20

Administrator@AUTOBVT-Q90417J MINGW64 ~/Desktop
$ git config --global commit.gpgsign true

Administrator@AUTOBVT-Q90417J MINGW64 ~/Desktop
$ gpgconf â€“kill gpg-agent
gpg:OpenPGP:/usr/bin/gpg
gpgsm:S/MIME:/usr/bin/gpgsm
gpg-agent:Private Keys:/usr/bin/gpg-agent
scdaemon:Smartcards:/usr/lib/gnupg/scdaemon
dirmngr:Network:/usr/bin/dirmngr
pinentry:Passphrase Entry:/usr/bin/pinentry
</code></pre>
<p>Windows ä¸Šçš„ git-bash ä¸Šé»˜è®¤çš„ /usr/bin ç›®å½•åœ¨ï¼šC:\Program Files\Git\usr\bin\ã€‚</p>
<h3 id="å…³é—­gpgç­¾å">å…³é—­GPGç­¾å</h3>
<p>æ‰€æœ‰ä»“åº“ï¼š</p>
<pre><code class="language-bash">git config --global commit.gpgsign false
git config --global --unset commit.gpgsign
</code></pre>
<p>æœ¬åœ°ä»“åº“ï¼š</p>
<pre><code class="language-bash">git config --local commit.gpgsign false
git config --local --unset commit.gpgsign
</code></pre>
<h3 id="git-ä½¿ç”¨">git ä½¿ç”¨</h3>
<h4 id="æäº¤">æäº¤</h4>
<pre><code class="language-bash">git commit -am &quot;feature: something&quot;
git push origin develop
</code></pre>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ git ä¸­çœ‹åˆ° <code>Verified</code> çš„æ ‡è¯†ã€‚</p>
<p>å¦‚æœä¸è®¾ç½®<code>git config --global commit.gpgsign true</code>ï¼Œæäº¤çš„æ—¶å€™åŠ ä¸Šä¸€ä¸ª <code>-S</code> å‚æ•°å°±å¯ä»¥ä¸ºæäº¤ç­¾åï¼š</p>
<pre><code class="language-bash">git commit -S -m `your commit message`
</code></pre>
<h4 id="æäº¤tagæ—¶ç­¾å">æäº¤tagæ—¶ç­¾å</h4>
<pre><code class="language-bash">git tag -s ...
</code></pre>
<h4 id="æŸ¥çœ‹æ—¥å¿—">æŸ¥çœ‹æ—¥å¿—</h4>
<pre><code class="language-bash">git log --show-signature -1
</code></pre>
<h2 id="ä½¿ç”¨-kleopatra-æ¥ç­¾ååŠ å¯†æ–‡ä»¶">ä½¿ç”¨ Kleopatra æ¥ç­¾å/åŠ å¯†æ–‡ä»¶</h2>
<p>Gpg4winï¼ˆGNU Privacy Guard for Windowsï¼‰æ˜¯ä¸€ä¸ª<strong>åŠ å¯†</strong>è½¯ä»¶ï¼Œç”¨äºå¯¹æ–‡ä»¶å’Œç”µå­é‚®ä»¶è¿›è¡Œç­¾åå’ŒåŠ å¯†ã€‚</p>
<p>å®ƒèƒ½å¤Ÿç”ŸæˆOpenPGPå¯†é’¥å¯¹ã€ç­¾åï¼éªŒè¯ã€åŠ å¯†ï¼è§£å¯†ï¼Œè¿˜å¯ä»¥å»ºç«‹S/MIMEè®¤è¯è¯·æ±‚ã€‚</p>
<p><strong>OpenPGP è¯ä¹¦é«˜çº§è®¾ç½®</strong></p>
<p>1ã€å¯†é’¥ç±»å‹</p>
<ul>
<li>RSA</li>
<li>DSA</li>
<li>ECDSA/EdDSAï¼ˆé»˜è®¤ï¼‰</li>
</ul>
<p>2ã€è¯ä¹¦ç”¨é€”</p>
<ul>
<li>ç­¾å</li>
<li>è¯ä¹¦ ä»…åŠ å¯†ï¼ˆé»˜è®¤ï¼‰</li>
<li>éªŒè¯</li>
<li>æœ‰æ•ˆæœŸç»“æŸäº</li>
</ul>
<p>æ–°å»ºå¯†é’¥å¯¹åï¼Œç•Œé¢ä¼šæ˜¾ç¤ºä¸€æ¡è¯ä¹¦ä¿¡æ¯ï¼ŒåŒ…å«åç§°ã€ç”µå­é‚®ä»¶ã€ç”¨æˆ·ç¼–å·ï¼ˆè®¤è¯çš„/å·²åŠé”€ï¼‰ã€æœ‰æ•ˆæœŸã€å¯†é’¥IDã€‚<br>
ä½ å¯ä»¥åŒå‡»è¯ä¹¦æ¥æ·»åŠ ç”¨æˆ·IDã€è®¤è¯ç”¨æˆ·IDsã€åŠé”€è¯ä¹¦ã€åŠé”€ç”¨æˆ·IDç­‰ã€‚</p>
<h3 id="ç­¾ååŠ å¯†æ–‡ä»¶">ç­¾å/åŠ å¯†æ–‡ä»¶</h3>
<ol>
<li>æ–°å»ºOpenPGPç§˜é’¥å¯¹</li>
<li>è¾“å…¥åç§°å’Œç”µå­é‚®ä»¶</li>
<li>éœ€è¦è¿›è¡Œé«˜çº§è®¾ç½®å¯ä»¥ç‚¹å‡»é«˜çº§è®¾ç½®è¿›è¡Œè®¾ç½®ï¼Œé»˜è®¤å¯†é’¥ç±»å‹ä¸ºECDSAï¼Œå¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®è¿‡æœŸæ—¶é—´</li>
<li>å‹¾é€‰â€œéœ€è¦å¯†ç å¥ä¿æŠ¤ç”Ÿæˆçš„å¯†é’¥â€ï¼Œè¾“å…¥å¯†ç å¥</li>
<li>å¯†ç å¤æ‚åº¦ä½æ—¶ä¼šæç¤ºä½ é‡æ–°è¾“å…¥å¯†ç ï¼Œå¦‚æœå¯†ç è¦æ±‚ä¸æ˜¯å¤ªé«˜ï¼Œç›´æ¥ç‚¹å‡»Take this one anywayï¼Œå¦‚æœéœ€è¦è¿”å›é‡æ–°è®¾ç½®ï¼Œç‚¹å‡»Enter new passphrase</li>
<li>ç§˜é’¥å¯¹åˆ›å»ºæˆåŠŸï¼Œå³é”®â€œå¤‡ä»½ç§é’¥â€ï¼Œç”Ÿæˆå¯†é’¥å¯¹çš„å‰¯æœ¬ï¼Œè¾“å…¥å¯†ç ï¼Œå¯¼å‡ºæˆåŠŸ</li>
<li>å¯¼å‡ºå…¬é’¥ï¼Œå³é”®è¯¥åŠ å¯†è¯ä¹¦ï¼Œå¯¼å‡ºå…¬é’¥ï¼Œé€‰æ‹©å…¬é’¥çš„å¯¼å‡ºç›®å½•ï¼Œå¯¼å‡º</li>
<li>å°†éœ€è¦çš„åŠ å¯†çš„æ–‡ä»¶æ‹–å…¥åˆ°kleopatraä¸­ï¼Œç‚¹å‡»ç­¾å/åŠ å¯†</li>
<li>é€‰æ‹©åŠ å¯†è¯ä¹¦ä»¥åŠåŠ å¯†æ–‡ä»¶å­˜å‚¨ä½ç½®ï¼Œè¾“å…¥å¯†ç ï¼ŒåŠ å¯†å®Œæˆ</li>
</ol>
<h3 id="è§£å¯†éªŒè¯æ–‡ä»¶">è§£å¯†/éªŒè¯æ–‡ä»¶</h3>
<ol>
<li>é¦–å…ˆéœ€è¦å¾—åˆ°å¯¹æ–¹çš„åŠ å¯†å…¬é’¥å’Œç§é’¥æ–‡ä»¶</li>
<li>å…ˆå¯¼å…¥å…¬é’¥æ–‡ä»¶ï¼ˆ.ascï¼‰ï¼Œä¸ºæœ¬åœ°åˆ›å»ºä¸€ä¸ªè¯ä¹¦</li>
<li>åˆ›å»ºå®Œæˆåï¼Œè®¤è¯è¯ä¹¦å…¬é’¥ï¼Œåªè®¤è¯è‡ªå·±ï¼Œè¾“å…¥åˆšåˆšåˆ›å»ºçš„æœ¬åœ°è¯ä¹¦å¯†ç </li>
<li>ç»§ç»­å¯¼å…¥ï¼Œé€‰æ‹©ç§é’¥æ–‡ä»¶ï¼ˆ.gpgï¼‰å¯¼å…¥,æŸ¥çœ‹è¯ä¹¦è¯¦æƒ…ï¼Œè¯ä¹¦é¢œè‰²å·²ç»å˜æ·±ï¼Œå¯ä»¥è¿›è¡Œè§£å¯†æ“ä½œäº†</li>
<li>å°†å¯¹æ–¹å‘é€çš„åŠ å¯†æ–‡ä»¶ï¼ˆ.gpgï¼‰æ‹–å…¥åˆ°kleopatraä¸­è¿›è¡Œè§£å¯†ï¼Œç‚¹å‡» Save All ä¿å­˜ï¼Œå¾—åˆ°è§£å¯†åçš„æ–‡ä»¶</li>
</ol>
<p>æƒ³è¦å¯¹æ–¹åŠ å¯†æ–‡ä»¶ç»™ä½ ï¼Œä½ éœ€è¦æä¾›å…¬é’¥ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹ç”¨ä½ çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œå‘é€ç»™ä½ åŠ å¯†æ–‡ä»¶åï¼Œä½ éœ€ç”¨ä½ çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚</p>
<p>å¯ä»¥è¿›è¡Œè§£å¯†æ“ä½œåï¼ŒåŒå‡»<strong>ç­¾å/åŠ å¯†</strong>è¾“å‡ºçš„æ–‡ä»¶å’Œç‚¹å‡»<strong>è§£å¯†/æ ¡éªŒ</strong>æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 id="å…³äºæäº¤ç­¾åéªŒè¯">å…³äºæäº¤ç­¾åéªŒè¯</h2>
<p>ä½¿ç”¨ GPGã€SSHã€ æˆ– S/MIMEï¼Œå¯ä»¥åœ¨æœ¬åœ°å¯¹æ ‡è®°å’Œæäº¤è¿›è¡Œç­¾åã€‚ è¿™äº›æ ‡è®°æˆ–æäº¤åœ¨ GitHub ä¸Šæ ‡ç¤ºä¸ºå·²éªŒè¯ï¼Œä¾¿äºå…¶ä»–äººä¿¡ä»»æ›´æ”¹æ¥è‡ªå¯ä¿¡çš„æ¥æºã€‚</p>
<p>æ‚¨å¯ä»¥åœ¨æœ¬åœ°ç­¾ç½²æäº¤å’Œæ ‡ç­¾ï¼Œè®©å…¶ä»–äººå¯¹æ‚¨æ‰€åšæ›´æ”¹çš„æºå……æ»¡ä¿¡å¿ƒã€‚ å¦‚æœæäº¤æˆ–æ ‡è®°å…·æœ‰å¯åŠ å¯†éªŒè¯çš„ GPGã€SSHã€ æˆ– S/MIME ç­¾åï¼ŒGitHub ä¼šå°†æäº¤æˆ–æ ‡è®°æ ‡ç¤ºä¸ºâ€œå·²éªŒè¯â€æˆ–â€œéƒ¨åˆ†éªŒè¯â€ã€‚</p>
<p>å­˜å‚¨åº“æäº¤åˆ—è¡¨ä¸­æäº¤çš„å±å¹•æˆªå›¾ã€‚ â€œå·²éªŒè¯â€ä»¥æ©™è‰²è½®å»“çªå‡ºæ˜¾ç¤ºã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°ä¸ªäººç”¨æˆ·ï¼ŒGPG æˆ– SSH ä¼šæ˜¯å¯¹æäº¤è¿›è¡Œç­¾åçš„æœ€ä½³é€‰æ‹©ã€‚ åœ¨è¾ƒå¤§å‹ç»„ç»‡çš„ç¯å¢ƒä¸­é€šå¸¸éœ€è¦ S/MIME ç­¾åã€‚ SSH ç­¾åæ˜¯æœ€å®¹æ˜“ç”Ÿæˆçš„ã€‚ ç”šè‡³å¯ä»¥å°†ç°æœ‰èº«ä»½éªŒè¯å¯†é’¥ä¸Šä¼ åˆ° GitHub ä»¥ç”¨ä½œç­¾åå¯†é’¥ã€‚ ç”Ÿæˆ GPG ç­¾åå¯†é’¥æ¯”ç”Ÿæˆ SSH å¯†é’¥æ›´å¤æ‚ï¼Œä½† GPG å…·æœ‰ SSH æ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚ GPG å¯†é’¥å¯ä»¥åœ¨ä¸å†ä½¿ç”¨æ—¶è¿‡æœŸæˆ–æ’¤é”€ã€‚ GitHub å°†å·²ä½¿ç”¨æ­¤ç±»å¯†é’¥è¿›è¡Œç­¾åçš„æäº¤æ˜¾ç¤ºä¸ºâ€œå·²éªŒè¯â€ï¼Œé™¤éå¯†é’¥æ ‡è®°ä¸ºå·²æ³„éœ²ã€‚ SSH å¯†é’¥æ²¡æœ‰æ­¤åŠŸèƒ½ã€‚</p>
<h3 id="gpg-æäº¤ç­¾åéªŒè¯">GPG æäº¤ç­¾åéªŒè¯</h3>
<p>GitHub ä½¿ç”¨ OpenPGP åº“æ¥ç¡®è®¤æœ¬åœ°ç­¾åçš„æäº¤å’Œæ ‡è®°ï¼Œæ˜¯å¦æ ¹æ®ä½ åœ¨ GitHub.com ä¸Šæ·»åŠ åˆ°å¸æˆ·çš„å…¬é’¥è¿›è¡ŒåŠ å¯†éªŒè¯ã€‚</p>
<h3 id="ssh-æäº¤ç­¾åéªŒè¯">SSH æäº¤ç­¾åéªŒè¯</h3>
<p>å¯ä»¥ä½¿ç”¨ SSH é€šè¿‡è‡ªå·±ç”Ÿæˆçš„ SSH å¯†é’¥å¯¹æäº¤è¿›è¡Œç­¾åã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <code>user.Signingkey</code> çš„ <a href="https://git-scm.com/docs/git-config#Documentation/git-config.txt-usersigningKey">Git å‚è€ƒæ–‡æ¡£</a>ã€‚ å¦‚æœå·²ä½¿ç”¨ SSH å¯†é’¥å‘ GitHub è¿›è¡Œäº†èº«ä»½éªŒè¯ï¼Œè¿˜å¯ä»¥å†æ¬¡ä¸Šä¼ è¯¥ç›¸åŒå¯†é’¥ä»¥ç”¨ä½œç­¾åå¯†é’¥ã€‚ å¯ä»¥æ·»åŠ åˆ°å¸æˆ·çš„ç­¾åå¯†é’¥æ•°æ²¡æœ‰é™åˆ¶ã€‚</p>
<p>GitHub ä½¿ç”¨ ssh_dataï¼ˆä¸€ç§å¼€æ”¾æºä»£ç  Ruby åº“ï¼‰æ¥ç¡®è®¤æœ¬åœ°ç­¾åçš„æäº¤å’Œæ ‡è®°æ˜¯å¦æ ¹æ®åœ¨ GitHub.com ä¸Šæ·»åŠ åˆ°å¸æˆ·çš„å…¬é’¥è¿›è¡ŒåŠ å¯†éªŒè¯ã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://spencerwoo.com/blog/wait-this-is-not-my-commit">ğŸ‘¨â€ğŸ’» éœ‡æƒŠï¼ç«Ÿç„¶æœ‰äººåœ¨ GitHub ä¸Šå†’å……æˆ‘çš„èº«ä»½ï¼</a><br>
<a href="https://docs.github.com/zh/authentication/managing-commit-signature-verification/about-commit-signature-verification">å…³äºæäº¤ç­¾åéªŒè¯ - GitHub æ–‡æ¡£</a><br>
<a href="http://ruanyifeng.com/blog/2013/07/gpg.html">GPGå…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a><br>
<a href="https://pythonjishu.com/bbddvfjaylxx/">Linuxä¸‹GPGçš„ä½¿ç”¨</a><br>
<a href="https://wobushixiaohai.blog.csdn.net/article/details/122238040">æ¨èä¸€æ¬¾å¥½ç”¨çš„æ–‡ä»¶åŠ å¯†ä¼ è¾“è½¯ä»¶â€”â€”Kleopatraï¼ˆå«è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ï¼‰</a><br>
<a href="https://blog.csdn.net/qq_44686646/article/details/115305433">Kleopatraæ–‡ä»¶çš„åŠ å¯†è§£å¯†é‡åˆ°éƒ¨åˆ†é—®é¢˜_kleopatraè§£å¯†_å°‘çŒ¿çš„åšå®¢</a><br>
<a href="https://zhuanlan.zhihu.com/p/481900853">ä½¿ç”¨ GPG Key æ¥æ„å»ºç­¾åã€åŠ å¯†åŠè®¤è¯ä½“ç³» - çŸ¥ä¹</a><br>
<a href="https://zhuanlan.zhihu.com/p/137801979">ç®€æ˜ GPG æ¦‚å¿µ - çŸ¥ä¹</a><br>
<a href="https://zhuanlan.zhihu.com/p/344198727">2021å¹´ï¼Œç”¨æ›´ç°ä»£çš„æ–¹æ³•ä½¿ç”¨PGPï¼ˆä¸Šï¼‰ - çŸ¥ä¹</a><br>
<a href="https://www.jianshu.com/p/91c98a27fd16">PGPâ€”â€”å¯†ç æŠ€æœ¯çš„å®Œç¾ç»„åˆ - ç®€ä¹¦</a><br>
<a href="https://help.gitee.com/repository/ssh-key/how-to-use-gpg-with-gitee">å¦‚ä½•åœ¨ Gitee ä¸Šä½¿ç”¨ GPG | Gitee äº§å“æ–‡æ¡£</a><br>
<a href="https://www.xiexianbin.cn/git/command/git-gpg/index.html">ä½¿ç”¨ GPG ç­¾å Git Commit-è°¢å…ˆæ–Œçš„åšå®¢</a><br>
<a href="https://blog.kelu.org/tech/2022/03/15/git-global-config-reset.html">ä¿®æ”¹/é‡ç½® git çš„å…¨å±€é…ç½® | è¡€è¡«éå¼§ã®ä¸€å­˜</a></p>

              </div>
              <hr class="clear">
              
                <div class="next-post">
                  <a class="purple-link" href="https://xiaxi626.github.io/post/zhen-bai-meng-lun-tan-tui-jian-yue-du/">
                    <h3 class="post-title">
                      ä¸‹ä¸€ç¯‡ï¼šçœŸç™½èŒè®ºå›æ¨èé˜…è¯»
                    </h3>
                  </a>
                </div>
                
            </div>
          </div>
      </div>

      
          <div id="gitalk-container"></div>
      

    
    </div>
    <div class="site-footer">
  <div class="social-container">
    
      
        <a href="https://github.com/xiaxi626" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
        <a href="https://space.bilibili.com/328031473/bangumi" target="_blank">
          <i class="fab fa-bilibili"></i>
        </a>
      
    
      
        <a href="https://www.zhihu.com/people/xiao-yan-shi-36" target="_blank">
          <i class="fab fa-zhihu"></i>
        </a>
      
    
  </div>
  <div class="slogan">æ¸©æ•…è€ŒçŸ¥æ–°</div> |
  <a href="https://github.com/Decade-qiu/gridea-theme-Eternal" target="_blank">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></a> | <a href="https://github.com/Decade-qiu/gridea-theme-Eternal" target="_blank">Powered by Eternal</a> | <a href="https://xiaxi626.github.io/atom.xml" target="_blank">RSS</a>
</div>

    <script src="https://xiaxi626.github.io/media/scripts/index.js"></script>


    <script src='https://xiaxi626.github.io/media/scripts/valine.min.js'></script>
    <script>
        new Valine({
            el: '#gitalk-container',
            appId: '2EhI3kZCg0PpwHaW4CRpwsYu-gzGzoHsz',
            appKey: 'XEh9nruDRqlHqqfaFkHmeyKq',
            placeholder: 'Write something...',
        })
    </script>



  </body>
</html>

<script>
    window.onload = function() {
        let id = 1;
        let post_content = document.querySelector('.content-card');
        post_content.querySelectorAll('h1,h2,h3,h4,h5,h6').forEach(function (item) {
            item.setAttribute('id', 'toc-' + id);
            id++;
        });
        tocbot.init({
            tocSelector: '.toc',
            contentSelector: '.post-content',
            headingSelector: 'h1,h2,h3,h4',
            headingsOffset: 58,
        });
        // æ£€æµ‹é¡µé¢æ»šåŠ¨è·ç¦» ç”¨eventlistener
        window.addEventListener('scroll', function () {
            let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            let toc = document.querySelector('.toc');
            let tocBtn = document.querySelector('.toc-body');
            if (scrollTop > 250) {
                tocBtn.classList.add('toc-body-fixed');
                toc.classList.add('toc-fixed');
            } else {
                tocBtn.classList.remove('toc-body-fixed');
                toc.classList.remove('toc-fixed');
            }
        });
        document.querySelector('#floating-toc-btn').addEventListener('click', function () {
            let toc = document.querySelector('.toc-body');
            let main = document.querySelector('.main');
            if (toc.classList.contains('hide')) {
                main.classList.add('main-small');
                toc.classList.remove('hide');
            } else {
                toc.classList.add('hide');
                main.classList.remove('main-small');
            }
        });
        window.addEventListener('resize', function() {
            // è·å–å±å¹•å®½åº¦
            var screenWidth = window.innerWidth || document.documentElement.clientWidth;
            // è®¾ç½® .content-card çš„ max-width
            var contentCard = document.querySelector('.content-card');
            contentCard.style.maxWidth = screenWidth + 'px';
        });
        // åˆå§‹åŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œç¡®ä¿åˆå§‹çŠ¶æ€ä¸‹ä¹Ÿè®¾ç½®æ­£ç¡®
        window.dispatchEvent(new Event('resize'));
    };
</script>
